<html>
  <head>
    <meta content='iOS审核注意 - win.moe' property='og:title' />
    <title>iOS审核注意 - win.moe</title>
    <!--link href='/images/fav.png' rel='shortcut icon' /-->
<link href='/stylesheets/style.css' rel='stylesheet' type='text/css' />
<link href='/stylesheets/syntax.css' rel='stylesheet' type='text/css' />
<link href='/stylesheets/responsive.css' rel='stylesheet' type='text/css' />
<script src='/javascripts/jquery.js' type='text/javascript'></script>
<script src='/javascripts/pd.js' type='text/javascript'></script>
<script src='/javascripts/basics.js' type='text/javascript'></script>
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />


  </head>
  <body>
    
    <div id='container'>
      <div class="block">
  
    <a target="_top" class="main" href="/">主页</a>
  
    <a target="_top" class="main" href="/about">关于</a>
  
    <a target="_top" class="main" href="/douban">豆瓣</a>
  
    <a target="_top" class="main" href="/links">链接</a>
  
</div>
      <section class="paging">
  
    <div class="left">
      <a href="/think/2015/07/27/xuexi/">
        ‹
      </a>
    </div>
  
  
    <div class="right">
      <a href="/read/2015/09/03/Influence/">
        ›
      </a>
    </div>
  
</section>
      <div class="content">
        <section class='post'>
          <h1 class="upcase">
            <div class='date'>15 Aug 2015</div>
            iOS审核注意
          </h1>
          <hr />
<p>1，不能出现更新字样
2，不能有外部网页
3，不能有 CDkey
4，BuildVersion 必须用数字
5，用 dis 的 mobileprovision
6，archieve 出来的 xxx.app 文件可以直接拖到 iTunes 中，然后就会自动生成xxx.ipa 文件
7，IPV6 真实环境测试
8, 补全 AppIcon 分辨率正确
9, iPad 选择 fullscreen
10, 提供两个账号，一个是小号，一个是能玩多有功能的大号
11, 测试 iOS 老的版本是否有闪退情况，因为API用的新的，可能苹果有改动
12, 保留一个审核的过的版本，以后出问题就改代码，修改版本号，继续用这个去提审
13, 尽量避免强更
14, mobileprovision 一定要配置正确，是否内购，是否允许通知
15, 商品类型一定要注意，和描述一致，月卡终身卡，非续订订阅。
16, 可以用变相方式来实现非商品内购，充值xxx钻可以有购买资格，购买需要xxx钻，相当于商品了</p>

<hr />
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">struct</span> <span class="n">addrinfo</span> <span class="o">*</span><span class="n">answer</span><span class="p">,</span> <span class="n">hint</span><span class="p">,</span> <span class="o">*</span><span class="n">curr</span><span class="p">;</span>
<span class="n">ZeroMemory</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hint</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">hint</span><span class="p">));</span>
<span class="n">hint</span><span class="p">.</span><span class="n">ai_family</span> <span class="o">=</span> <span class="n">AF_UNSPEC</span><span class="p">;</span>
<span class="n">hint</span><span class="p">.</span><span class="n">ai_socktype</span> <span class="o">=</span> <span class="n">SOCK_STREAM</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">ipstr4</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="kt">char</span> <span class="n">ipstr6</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>

<span class="k">struct</span> <span class="n">sockaddr_in</span>  <span class="o">*</span><span class="n">sockaddr_ipv4</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">sockaddr_in6</span> <span class="o">*</span><span class="n">sockaddr_ipv6</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">getaddrinfo</span><span class="p">(</span><span class="n">szHostName</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span><span class="o">&amp;</span><span class="n">hint</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">answer</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">IPNone</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="n">curr</span> <span class="o">=</span> <span class="n">answer</span><span class="p">;</span> <span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">ai_next</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">switch</span> <span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">ai_family</span><span class="p">){</span>
	<span class="k">case</span> <span class="n">AF_UNSPEC</span><span class="p">:</span>
		<span class="c1">//do something here
</span>		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">AF_INET</span><span class="p">:</span>
		<span class="n">sockaddr_ipv4</span> <span class="o">=</span> <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="o">*&gt;</span><span class="p">(</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">ai_addr</span><span class="p">);</span>
	<span class="k">case</span> <span class="n">AF_INET6</span><span class="p">:</span>
		<span class="n">sockaddr_ipv6</span> <span class="o">=</span> <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">struct</span> <span class="n">sockaddr_in6</span> <span class="o">*&gt;</span><span class="p">(</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">ai_addr</span><span class="p">);</span>
		<span class="n">inet_ntop</span><span class="p">(</span><span class="n">AF_INET6</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">sockaddr_ipv6</span><span class="o">-&gt;</span><span class="n">sin6_addr</span><span class="p">,</span> <span class="n">ipstr6</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ipstr6</span><span class="p">));</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">default</span><span class="o">:</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

        </section>
        <hr>
<p align="center" style="font-style:italic;font-weight:bold">
每天进步一点点.
</p>
<hr>

        
          <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://winmoe.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                
        
      </div>
  <div>
    <footer id="footer" class="inner">
    Copyright &copy; 2014-2017 win.moe. All rights reserved. 
</footer>
  </div>
  </body>
</html>
